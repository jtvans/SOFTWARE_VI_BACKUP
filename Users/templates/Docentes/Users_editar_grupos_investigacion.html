<!-- Users_editar_grupos_investigacion.html -->
{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <!-- Breadcrumb -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="{% static 'css/USERS/Breadcrumbs/style.css' %}">

        <link rel="stylesheet" href="{% static 'css/USERS/Users_Perfil_Editar_Grupos/style.css' %}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.png' %}">
        <title>SeedResearchTool</title>
    </head>

    <body>

        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg">
            <div class="navbar-brand">
                <a class="navbar-brand" href="{% url 'Users:Users_home' %}">
                    <img src="{% static 'images/USERS/Users_Login/Login_Logo.png' %}" alt="" style="width: 240px; height: 60px;">
                </a>
            </div>

            <button style="color: white;" class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span  class="navbar-toggler-icon" style="color: white;"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-menu">
                    {% if user.is_authenticated and not user.usuario_administrador %}
                    <li class="navbar-item">
                        <a class="nav-link" href="{% url 'Users:Users_home' %}">HOME</a>
                    </li>
                    <li class="navbar-item dropdown">
                        <a class="nav-link" href="#">PROYECTOS</a>
                        <div class="dropdown-content">
                            <a class="text-center" href="{% url 'Proyectos:crear_proyecto' %}">Crear Proyecto</a>
                            <a class="text-center" href="{% url 'Proyectos:lista_proyectos' %}">Lista de Proyectos</a>
                        </div>
                    </li>
                    <li class="navbar-item dropdown">
                        <a class="nav-link" href="#">SEMILLEROS</a>
                        <div class="dropdown-content">
                            <a class="text-center" href="{% url 'Semilleros:crear_semillero' %}">Crear Semillero</a>
                            <a class="text-center" href="{% url 'Semilleros:lista_semilleros' %}">Lista de Semilleros</a>
                        </div>
                    </li>
                    {% endif %}
                </ul>

                <ul class="navbar-menu ml-auto">
                    {% if user.is_authenticated and not user.usuario_administrador %}
                    <li class="navbar-item dropdown">
                        <a class="nav-link" href="#">GRUPOS INVESTIGACION</a>
                        <div class="dropdown-content">
                            <a class="text-center" href="{% url 'Users:Users_ver_grupos' %}">Ver Grupos</a>
                            <a class="text-center" href="{% url 'Users:Users_editar_grupos_investigacion' %}">Editar
                                Grupos</a>
                        </div>
                    </li>
                    <li class="navbar-item dropdown">
                        <a class="nav-link" href="#">PERFIL</a>
                        <div class="dropdown-content">
                            <a class="text-center" href="{% url 'Users:Users_ver_perfil' %}">Ver Perfil</a>
                            <a class="text-center" href="{% url 'Users:Users_editar_perfil' %}">Editar Perfil</a>
                        </div>
                    </li>
                    <li class="navbar-item">
                        <a class="nav-link fa" style="font-size:26px;" href="{% url 'Users:logout' %}">&#xf011;</a>
                    </li>
                    {% else %}
                    <li class="navbar-item">
                        <a class="nav-link" href="{% url 'Users:Users_login' %}">INICIAR SESION</a>
                    </li>
                    <li class="navbar-item">
                        <a class="nav-link" href="{% url 'Users:Users_consultar_identificacion' %}">REGISTRARSE</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </nav>

        
        <!-- Breadcrumb -->
        <div class="wrapper">
            <ol class="breadcrumbs breadcrumbs--one" itemscope itemtype="http://schema.org/BreadcrumbList">
            <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                <a class="breadcrumb" href="{% url 'Users:Users_home' %}" itemprop="item">
                <span itemprop="name">
                    <i class="material-icons" aria-hidden="true">home</i>
                    <span>INICIO</span>
                </span>
                </a>
                <meta itemprop="position" content="1" />
            </li>

            <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                <a class="breadcrumb" href="{% url 'Users:Users_ver_perfil' %}" itemprop="item">
                <span itemprop="name">
                    <i class="material-icons" aria-hidden="true">person</i>
                    <span>PERFIL</span>
                </span>
                </a>
                <meta itemprop="position" content="2" />
            </li>

            <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                <a class="breadcrumb" href="{% url 'Users:Users_ver_grupos' %}" itemprop="item">
                <span itemprop="name">
                    <i class="material-icons" aria-hidden="true">science</i>
                    <span>GRUPOS</span>
                </span>
                </a>
                <meta itemprop="position" content="3" />
            </li>

            <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
                <a class="breadcrumb" href="{% url 'Users:Users_editar_grupos_investigacion' %}" itemprop="item">
                <span itemprop="name">
                    <i class="material-icons" aria-hidden="true">settings</i>
                    <span>EDITAR</span>
                </span>
                </a>
                <meta itemprop="position" content="4" />
            </li>
            </ol>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <br>
            <br>
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Editar Grupos de Investigacion</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p><strong>¿ Confirmar Datos ?</strong></p>
                        <p style="color: red;">. Recuerda haber seleccionado una linea correspondiente al Grupo</p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                        <button type="button" class="btn btn-primary" id="guardarCambiosBtn" >Confirmar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Message -->
        <div class="messages-container">
            {% for message in messages %}
                <div class="error-message">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        
        <div class="text-center">
            <h1>Gestionar Grupos de Investigación</h1>
        </div>
        <br>
        <div class="container-e-g">
            <form method="POST" action="{% url 'Users:Users_editar_grupos_investigacion' %}" id="editarGruposForm">

                {% csrf_token %}
        
                <div class="row justify-content-between">
                    <div class="col-md-5">
                        <a href="{% url 'Users:Users_ver_grupos' %}" class="btn btn-secondary">Cancelar</a>
                    </div>
                    <div class="col-md-2 text-right">
                        <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#exampleModal">Guardar</button>
                    </div>
                </div>
                
                <br>
        
                <div class="container-e-g-1">
                    <!--    GRUPO Y LINEA DE INVESTIGACION 1    --> 
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="grupo_investigacion"><strong>Grupo de Investigación:</strong></label>
                                <select name="grupo_investigacion" id="grupo_investigacion" onchange="cargarOpcionesLineasInvestigacion(this.value)" class="form-control">
                                <option value="">Seleccione un grupo</option>
                                {% for grupo in usuario.GRUPOS_INVESTIGACION %}
                                    <option value="{{ grupo.0 }}" {% if usuario.grupo_investigacion == grupo.0 %}selected{% endif %}>{{ grupo.1 }}</option>
                                {% endfor %}
                                </select>
                            </div><br>
                        
                            <div class="form-group">
                                <label for="linea_investigacion"><strong>Línea de Investigación:</strong></label>
                                <select name="linea_investigacion" id="linea_investigacion" multiple class="form-control">
                                {% for linea in usuario.linea_investigacion.all %}
                                    <option value="{{ linea.nombre }}" selected>{{ linea.nombre }}</option>
                                {% endfor %}
                                {% for grupo, lineas in opcionesLineasInvestigacion.items %}
                                    {% if usuario.grupo_investigacion == grupo %}
                                    {% for linea in lineas %}
                                        <option value="{{ linea.nombre }}">{{ linea.nombre }}</option>
                                    {% endfor %}
                                    {% endif %}
                                {% endfor %}
                                </select>
                            </div>
                        </div>
                    
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><strong>Grupo de Investigación:</strong> {{ usuario.grupo_investigacion }}</label><br>
                                <label><strong>Líneas de Investigación:</strong></label>
                                <ul>
                                {% for linea in usuario.lineas_investigacion.all %}
                                    <li>{{ linea.nombre }}</li>
                                {% endfor %}
                                </ul>
                            </div>
                        
                            <a href="{% url 'Users:eliminar_grupo_investigacion' %}" class="btn btn-outline-danger btn-sm"><strong>Eliminar</strong></a><br>
                            
                        </div>
                    </div>
                    <br>
                </div><br><br>
                <hr>

                <div class="container-e-g-1">
                    <!-- GRUPO Y LÍNEA DE INVESTIGACIÓN 2 -->
                    <div class="row">
                        <div class="col-md-6">
                            <label for="grupo_investigacion_2"><strong>Grupo de Investigación 2:</strong></label>
                            <div id="grupo_investigacion_2_container" style="display: none;">
                                <select name="grupo_investigacion_2" id="grupo_investigacion_2" onchange="cargarOpcionesLineasInvestigacion_2(this.value)" class="form-control">
                                    <option value="">Seleccione un grupo</option>
                                    {% for grupo in usuario.GRUPOS_INVESTIGACION %}
                                        <option value="{{ grupo.0 }}" {% if usuario.grupo_investigacion_2 == grupo.0 %}selected{% endif %}>{{ grupo.1 }}</option>
                                    {% endfor %}
                                </select>
                                <br>
                                <label for="linea_investigacion_2"><strong>Línea de Investigación 2:</strong></label>
                                <select name="linea_investigacion_2" id="linea_investigacion_2" multiple class="form-control">
                                    {% for linea in usuario.linea_investigacion_2.all %}
                                        <option value="{{ linea.nombre }}" selected>{{ linea.nombre }}</option>
                                    {% endfor %}
                                    {% for grupo, lineas in opcionesLineasInvestigacion_2.items %}
                                        {% if usuario.grupo_investigacion_2 == grupo %}
                                            {% for linea in lineas %}
                                                <option value="{{ linea.nombre }}">{{ linea.nombre }}</option>
                                            {% endfor %}
                                        {% endif %}
                                    {% endfor %}
                                </select>
                                <br>
                            </div>
                        </div>
            
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><strong>Grupo de Investigación 2:</strong> {{ usuario.grupo_investigacion_2 }}</label>
                                <br>
                                <label><strong>Líneas de Investigación:</strong></label>
                                <ul>
                                    {% for linea in usuario.lineas_investigacion_2.all %}
                                        <li>{{ linea.nombre }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                    
                            <a href="{% url 'Users:eliminar_grupo_investigacion_2' %}" class="btn btn-outline-danger btn-sm"><strong>Eliminar</strong></a>
                            <br>
                        </div>
                    </div>
            
                    <button type="button" onclick="mostrarGrupoInvestigacion2()" class="btn btn-outline-primary btn-sm"><strong>Añadir Segundo Grupo</strong></button>
                    <br>
                </div><br><br>
                <hr>

                <div class="container-e-g-1">
                    <!-- GRUPO Y LÍNEA DE INVESTIGACIÓN 3 -->
                    <br>
                    <div class="row">
                        <div class="col-md-6">
                            <label for="grupo_investigacion_3"><strong>Grupo de Investigación 3:</strong></label>
                            <div id="grupo_investigacion_3_container" style="display: none;">
                                <select name="grupo_investigacion_3" id="grupo_investigacion_3" onchange="cargarOpcionesLineasInvestigacion_3(this.value)" class="form-control">
                                    <option value="">Seleccione un grupo</option>
                                    {% for grupo in usuario.GRUPOS_INVESTIGACION %}
                                        <option value="{{ grupo.0 }}" {% if usuario.grupo_investigacion_3 == grupo.0 %}selected{% endif %}>{{ grupo.1 }}</option>
                                    {% endfor %}
                                </select>
                                <br>
                                <label for="linea_investigacion_3"><strong>Línea de Investigación 3:</strong></label>
                                <select name="linea_investigacion_3" id="linea_investigacion_3" multiple class="form-control">
                                    {% for linea in usuario.linea_investigacion_3.all %}
                                        <option value="{{ linea.nombre }}" selected>{{ linea.nombre }}</option>
                                    {% endfor %}
                                    {% for grupo, lineas in opcionesLineasInvestigacion_3.items %}
                                        {% if usuario.grupo_investigacion_3 == grupo %}
                                            {% for linea in lineas %}
                                                <option value="{{ linea.nombre }}">{{ linea.nombre }}</option>
                                            {% endfor %}
                                        {% endif %}
                                    {% endfor %}
                                </select>
                                <br>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><strong>Grupo de Investigación 3:</strong> {{ usuario.grupo_investigacion_3 }}</label>
                                <br>
                                <label><strong>Líneas de Investigación:</strong></label>
                                <ul>
                                    {% for linea in usuario.lineas_investigacion_3.all %}
                                        <li>{{ linea.nombre }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                    
                            <a href="{% url 'Users:eliminar_grupo_investigacion_3' %}" class="btn btn-outline-danger btn-sm"><strong>Eliminar</strong></a>
                            <br>
                        </div>
                    </div>
                    
                    <button type="button" onclick="mostrarGrupoInvestigacion3()" class="btn btn-outline-primary btn-sm"><strong>Añadir Tercer Grupo</strong></button><br>
                    <br>
                </div><br><br>

            </form>
        </div>

        <br>
        <br>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <!-- SCRIPT - Modal Confirmacion -->
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const guardarCambiosBtn = document.getElementById("guardarCambiosBtn");
                const editarGruposForm = document.getElementById("editarGruposForm");
                
                guardarCambiosBtn.addEventListener("click", function () {
                    const formData = new FormData(editarGruposForm);

                    fetch("{% url 'Users:Users_editar_grupos_investigacion' %}", {
                        method: "POST",
                        body: formData
                    })
                    .then(data => {
                        console.log(data);

                        // Cerrar el modal
                        const modal = new bootstrap.Modal(document.getElementById("exampleModal"));
                        modal.hide();

                        // Redirigir después de cerrar el modal
                        window.location.href = "{% url 'Users:Users_ver_grupos' %}";
                    })
                    .catch(error => {
                        console.error("Error al enviar los datos:", error);
                    });
                });
            });
        </script>


        <!-- SCRIPT - Grupos / Lineas -->
        <script> 
            // GRUPOS LINEAS
            const grupoInvestigacionSelect = document.getElementById('grupo_investigacion');
            const lineaInvestigacionSelect = document.getElementById('linea_investigacion');
            const grupoInvestigacionSelect_2 = document.getElementById('grupo_investigacion_2');
            const lineaInvestigacionSelect_2 = document.getElementById('linea_investigacion_2');
            const grupoInvestigacionSelect_3 = document.getElementById('grupo_investigacion_3');
            const lineaInvestigacionSelect_3 = document.getElementById('linea_investigacion_3');

            // Opciones de línea de investigación para cada grupo - GRUPOS LINEAS
            const opcionesLineasInvestigacion = {
                'Aglalia': [
                    'Modelado y simulación',
                    'Nuevas tecnologías e inteligencia artificial',
                    'Sistemas de información e ingeniería de software'
                ],
                'ProCont': [
                    'Contabilidad social y ambiental',
                    'Contabilidad y gestión financiera',
                    'Estudios fiscales y gestión tributaria'
                ],
                'DehJüs': [
                    'Conflictos instituciones jurídicas y nuevas tendencias del derecho privado',
                    'Derecho público y justicia',
                    'Desarrollo humano salud mental y psicología forense',
                    'Genero sociedad y derechos humanos',
                ],
                'TES': [
                    'Bilinguismo',
                    'Infancia y desarrollo social',
                    'Neuropsicologia comportamiento y aprendizaje',
                    'Practica pedagógica investigativa',
                    'Psicologia educativa y evolutiva',
                    'Psicologia social y comunitaria',
                ],
                'GECAES': [
                    'Capital social y ambiental',
                    'Contabilidad y gestión financiera',
                    'Estudios fiscales y gestión tributaria',
                ],
                'Gestion e Innovacion': [
                    'Gestión e innovación',
                    'Innovación y gestión turística',
                ],
                'IC': [
                    'Ciudadanía genero y sociedad',
                    'Innovaciones sociales',
                ],
                'LyS': [
                    'Derecho y gestión de políticas publicas',
                    'Derecho y sociedad',
                    'Derecho y sujetos de especial protección constituciona',
                ],
                'Gisela': [
                    'Gestión organizacional, desarrollo y sociedad',
                    'Competitividad e innovacion en pymes',
                ],
                'LAW': [
                    'Mecanismos alternativos de solución de conflictos en particular la mediación interdisciplinaria y la conciliación',
                    'Propiedad intelectual',
                    'Práctica jurídica',
                    'Línea de investigación en educación inclusiva e interdisciplinar y de las nuevas tecnologías',
                ],
                'Business Intelligence': [
                    'Comercio y neogcios internacionales',
                    'Logistica nacional e internacional',
                ],
                'Americana Emprendedora': [
                    'Emprendimiento ecosistemas de emprendimiento e innovación',
                    'Emprendimiento de mujeres y comunidades',
                ],
                'PSI Context': [
                    'Desarrollo humano y problemáticas sociales',
                    'Salud y bienestar',
                ],
                'Engineeri': [
                    'Diseño y gestión de Sistemas productivos y logísticos',
                    'Innovación y gestión tecnológica',
                    'Modelado y simulación',
                    'Sistemas integrados de procesos y gestión',
                ],
                'SeHaT': [
                    'Emprendimiento e innovación',
                    'Salud Ocupacional',
                    'Seguridad Industrial',
                ]
            };

            const opcionesLineasInvestigacion_2 = {
                'Aglalia': [
                    'Modelado y simulación',
                    'Nuevas tecnologías e inteligencia artificial',
                    'Sistemas de información e ingeniería de software'
                ],
                'ProCont': [
                    'Contabilidad social y ambiental',
                    'Contabilidad y gestión financiera',
                    'Estudios fiscales y gestión tributaria'
                ],
                'DehJüs': [
                    'Conflictos instituciones jurídicas y nuevas tendencias del derecho privado',
                    'Derecho público y justicia',
                    'Desarrollo humano salud mental y psicología forense',
                    'Genero sociedad y derechos humanos',
                ],
                'TES': [
                    'Bilinguismo',
                    'Infancia y desarrollo social',
                    'Neuropsicologia comportamiento y aprendizaje',
                    'Practica pedagógica investigativa',
                    'Psicologia educativa y evolutiva',
                    'Psicologia social y comunitaria',
                ],
                'GECAES': [
                    'Capital social y ambiental',
                    'Contabilidad y gestión financiera',
                    'Estudios fiscales y gestión tributaria',
                ],
                'Gestion e Innovacion': [
                    'Gestión e innovación',
                    'Innovación y gestión turística',
                ],
                'IC': [
                    'Ciudadanía genero y sociedad',
                    'Innovaciones sociales',
                ],
                'LyS': [
                    'Derecho y gestión de políticas publicas',
                    'Derecho y sociedad',
                    'Derecho y sujetos de especial protección constituciona',
                ],
                'Gisela': [
                    'Gestión organizacional, desarrollo y sociedad',
                    'Competitividad e innovacion en pymes',
                ],
                'LAW': [
                    'Mecanismos alternativos de solución de conflictos en particular la mediación interdisciplinaria y la conciliación',
                    'Propiedad intelectual',
                    'Práctica jurídica',
                    'Línea de investigación en educación inclusiva e interdisciplinar y de las nuevas tecnologías',
                ],
                'Business Intelligence': [
                    'Comercio y neogcios internacionales',
                    'Logistica nacional e internacional',
                ],
                'Americana Emprendedora': [
                    'Emprendimiento ecosistemas de emprendimiento e innovación',
                    'Emprendimiento de mujeres y comunidades',
                ],
                'PSI Context': [
                    'Desarrollo humano y problemáticas sociales',
                    'Salud y bienestar',
                ],
                'Engineeri': [
                    'Diseño y gestión de Sistemas productivos y logísticos',
                    'Innovación y gestión tecnológica',
                    'Modelado y simulación',
                    'Sistemas integrados de procesos y gestión',
                ],
                'SeHaT': [
                    'Emprendimiento e innovación',
                    'Salud Ocupacional',
                    'Seguridad Industrial',
                ]
            };

            const opcionesLineasInvestigacion_3 = {
                'Aglalia': [
                    'Modelado y simulación',
                    'Nuevas tecnologías e inteligencia artificial',
                    'Sistemas de información e ingeniería de software'
                ],
                'ProCont': [
                    'Contabilidad social y ambiental',
                    'Contabilidad y gestión financiera',
                    'Estudios fiscales y gestión tributaria'
                ],
                'DehJüs': [
                    'Conflictos instituciones jurídicas y nuevas tendencias del derecho privado',
                    'Derecho público y justicia',
                    'Desarrollo humano salud mental y psicología forense',
                    'Genero sociedad y derechos humanos',
                ],
                'TES': [
                    'Bilinguismo',
                    'Infancia y desarrollo social',
                    'Neuropsicologia comportamiento y aprendizaje',
                    'Practica pedagógica investigativa',
                    'Psicologia educativa y evolutiva',
                    'Psicologia social y comunitaria',
                ],
                'GECAES': [
                    'Capital social y ambiental',
                    'Contabilidad y gestión financiera',
                    'Estudios fiscales y gestión tributaria',
                ],
                'Gestion e Innovacion': [
                    'Gestión e innovación',
                    'Innovación y gestión turística',
                ],
                'IC': [
                    'Ciudadanía genero y sociedad',
                    'Innovaciones sociales',
                ],
                'LyS': [
                    'Derecho y gestión de políticas publicas',
                    'Derecho y sociedad',
                    'Derecho y sujetos de especial protección constituciona',
                ],
                'Gisela': [
                    'Gestión organizacional, desarrollo y sociedad',
                    'Competitividad e innovacion en pymes',
                ],
                'LAW': [
                    'Mecanismos alternativos de solución de conflictos en particular la mediación interdisciplinaria y la conciliación',
                    'Propiedad intelectual',
                    'Práctica jurídica',
                    'Línea de investigación en educación inclusiva e interdisciplinar y de las nuevas tecnologías',
                ],
                'Business Intelligence': [
                    'Comercio y neogcios internacionales',
                    'Logistica nacional e internacional',
                ],
                'Americana Emprendedora': [
                    'Emprendimiento ecosistemas de emprendimiento e innovación',
                    'Emprendimiento de mujeres y comunidades',
                ],
                'PSI Context': [
                    'Desarrollo humano y problemáticas sociales',
                    'Salud y bienestar',
                ],
                'Engineeri': [
                    'Diseño y gestión de Sistemas productivos y logísticos',
                    'Innovación y gestión tecnológica',
                    'Modelado y simulación',
                    'Sistemas integrados de procesos y gestión',
                ],
                'SeHaT': [
                    'Emprendimiento e innovación',
                    'Salud Ocupacional',
                    'Seguridad Industrial',
                ]
            };

            
            // Función para cargar las opciones de línea de investigación correspondientes al grupo seleccionado
            function cargarOpcionesLineasInvestigacion() {
                const grupoSeleccionado = grupoInvestigacionSelect.value;
                const lineasInvestigacion = opcionesLineasInvestigacion[grupoSeleccionado];
        
                // Limpiar las opciones anteriores
                lineaInvestigacionSelect.innerHTML = '';
        
                // Crear y agregar las nuevas opciones
                lineasInvestigacion.forEach(linea => {
                    const optionElement = document.createElement('option');
                    optionElement.value = linea;
                    optionElement.textContent = linea;
                    lineaInvestigacionSelect.appendChild(optionElement);
                });
            };

            function cargarOpcionesLineasInvestigacion_2() {
                const grupoSeleccionado_2 = grupoInvestigacionSelect_2.value;
                const lineasInvestigacion_2 = opcionesLineasInvestigacion_2[grupoSeleccionado_2];
        
                // Limpiar las opciones anteriores
                lineaInvestigacionSelect_2.innerHTML = '';
        
                // Crear y agregar las nuevas opciones
                lineasInvestigacion_2.forEach(linea => {
                    const optionElement_2 = document.createElement('option');
                    optionElement_2.value = linea;
                    optionElement_2.textContent = linea;
                    lineaInvestigacionSelect_2.appendChild(optionElement_2);
                });
            };

            function cargarOpcionesLineasInvestigacion_3() {
                const grupoSeleccionado_3 = grupoInvestigacionSelect_3.value;
                const lineasInvestigacion_3 = opcionesLineasInvestigacion_3[grupoSeleccionado_3];
        
                // Limpiar las opciones anteriores
                lineaInvestigacionSelect_3.innerHTML = '';
        
                // Crear y agregar las nuevas opciones
                lineasInvestigacion_3.forEach(linea => {
                    const optionElement_3 = document.createElement('option');
                    optionElement_3.value = linea;
                    optionElement_3.textContent = linea;
                    lineaInvestigacionSelect_3.appendChild(optionElement_3);
                });
            };

            //--------------------------------------------------------------------------------------------------------------------------
            // AGREGAR 2 GRUPO INVESTIGACION
            var grupoInvestigacion2Visible = false;
            function mostrarGrupoInvestigacion2() {
                var grupoInvestigacion2Container = document.getElementById('grupo_investigacion_2_container');

                if (grupoInvestigacion2Visible) {
                    grupoInvestigacion2Container.style.display = 'none';
                    grupoInvestigacion2Visible = false;
                } else {
                    grupoInvestigacion2Container.style.display = 'block';
                    grupoInvestigacion2Visible = true;
                }
            };

            // AGREGAR 3 GRUPO INVESTIGACION
            var grupoInvestigacion3Visible = false;
            function mostrarGrupoInvestigacion3() {
                var grupoInvestigacion3Container = document.getElementById('grupo_investigacion_3_container');

                if (grupoInvestigacion3Visible) {
                    grupoInvestigacion3Container.style.display = 'none';
                    grupoInvestigacion3Visible = false;
                } else {
                    grupoInvestigacion3Container.style.display = 'block';
                    grupoInvestigacion3Visible = true;
                }
            };


            //--------------------------------------------------------------------------------------------------------------------------
            cargarOpcionesLineasInvestigacion();
            cargarOpcionesLineasInvestigacion_2();
            cargarOpcionesLineasInvestigacion_3();
            grupoInvestigacionSelect.addEventListener('change', cargarOpcionesLineasInvestigacion);
            grupoInvestigacionSelect_2.addEventListener('change', cargarOpcionesLineasInvestigacion_2);
            grupoInvestigacionSelect_3.addEventListener('change', cargarOpcionesLineasInvestigacion_3);

        </script>

        
        
    </body>
</html>